<!DOCTYPE html>
<html>
<head>
<title>Service Documentation</title>
</head>
<body>
	<h1>Service Operations</h1>
	<h2>TopDownSimpleService</h2>
	<p>Contains two service operations, importMarketData and downloadFile.</p>
	<ul>
		<li>importMarketData - Gathers all information about a specified security given a security code (sec), start date, end date and a data source to retrieve from. Our data source defaults to http://real-chart.finance.yahoo.com/table.csv. Saves the file to a retrievable location.</li>
		<li>downloadFile - creates a downloadable link to the generated CSV file created from importMarketData, takes in an event set ID, which is the name of the generated file.</li>
	</ul>

	<h2>MarketDataUtilService</h2>
	<p>Contains three service operations, summariseMarketData, convertMarketData, visualiseMarketData.</p>
	<ul>
		<li>summariseMarketData - takes an existing security file generated by importMarketData or convertMarketData and provides a quick summary of the file, takes in an event set ID.</li>
		<li>convertMarketData - takes an existing security file generated by importMarketData and converts all monetary values within the file into the chosen the currency, only works from AUD values. Takes in an event set ID, target currency and target date. Uses http://www.xe.com/currencytables/ for conversions.</li>
		<li>visualiseMarketData - takes an existing security file and converts it to a readable html file. Takes in an event set ID.</li>
	</ul>
	<p>**Note: Our services use SimpleDateFormat to parse date values. They accept values which are not generally considered date values so long as they satisfy the format (#-#-#) where # is any number. It still checks for malformed dates like alphanumeric characters.</p>

	<h1>Error codes</h1>
	<h2>TopDownSimpleService</h2>
	<h3>importMarketData</h3>
	<p><b>SEC code is not exactly 3 alphabetic characters long</b></p>
	<ul>
		<li>CODE: SEC_ERR</li>
		<li>MSG: SEC code should be exactly 3 alphabetic characters long</li>
	</ul>
	<p><b>Date format is invalid (i.e. not dd-MM-yyyy)</b></p>
	<ul>
		<li>CODE: DATE_ERR</li>
		<li>MSG: Invalid date format</li>
	</ul>
	<p><b>End date is before start date</b></p>
	<ul>
		<li>CODE: DATE_ERR</li>
		<li>MSG: End date is before start date</li>
	</ul>
	<p><b>Generic error</b></p>
	<ul>
		<li>CODE: GEN_ERR</li>
		<li>MSG: A generic service fault has occurred</li>
	</ul>

	<h3>downloadFile</h3>
	<p><b>The event set id specified cannot be attributed to a file</b></p>
	<ul>
		<li>CODE: EVENT_ERR</li>
		<li>MSG: Unknown eventSetId was given</li>
	</ul>

	<h2>MarketDataUtilService</h2>
	<h3>summariseMarketData</h3>
	<p><b>Date format is invalid (i.e. not yyyy-MM-dd)</b></p>
	<ul>
		<li>CODE: DATE_ERR</li>
		<li>MSG: Invalid date format</li>
	</ul>
	<p><b>The event set id specified cannot be attributed to a file</b></p>
	<ul>
		<li>CODE: EVENT_ERR</li>
		<li>MSG: Unknown eventSetId was given</li>
	</ul>
	<p><b>Read/write error occurred</b></p>
	<ul>
		<li>CODE: IO_ERR</li>
		<li>MSG: Error reading file</li>
	</ul>

	<h3>convertMarketData</h3>
	<p><b>Currency code cannot be found</b></p>
	<ul>
		<li>CODE: CURR_ERR</li>
		<li>MSG: Invalid Currency Code</li>
	</ul>
	<p><b>Trying to convert a file with non AUD prices</b></p>
	<ul>
		<li>CODE: PRICE_ERR</li>
		<li>MSG: The file already contains converted prices</li>
	</ul>
	<p><b>Generic error</b></p>
	<ul>
		<li>CODE: GEN_ERR</li>
		<li>MSG: A generic service fault has occurred</li>
	</ul>

	<h3>visualiseMarketData</h3>
	<p><b>The event set id specified cannot be attributed to a file</b></p>
	<ul>
		<li>CODE: EVENT_ERR</li>
		<li>MSG: Unknown eventSetId was given</li>
	</ul>
	<p><b>Read/write error occurred</b></p>
	<ul>
		<li>CODE: IO_ERR</li>
		<li>MSG: Cannot create/edit generated html file</li>
	</ul>
</body>
</html>